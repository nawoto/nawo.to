---
import type { CollectionEntry } from 'astro:content';
import { getListPageUrl, getListPageName } from '../utils/content';

interface Props {
  content: CollectionEntry<'logs' | 'texts' | 'backtrace'>;
  previousPost?: CollectionEntry<'logs' | 'texts' | 'backtrace'>;
  nextPost?: CollectionEntry<'logs' | 'texts' | 'backtrace'>;
}

const { content, previousPost, nextPost } = Astro.props;
---

<!-- Navigationï¼ˆ2æ®µæ§‹æˆï¼‰ -->
<nav class="mx-auto max-w-4xl px-4" aria-label="è¨˜äº‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
  <!-- 1æ®µç›®: PREV | NEXT -->
  <ul class="grid grid-cols-2 divide-x border-t text-center text-2xl uppercase overflow-hidden" role="list">
    <li class="hover-style p-3" role="listitem">
      {previousPost ? (
        <a
          href={previousPost.collection === 'texts' ? `/texts/${previousPost.slug}/` : `/${previousPost.slug}/`}
          title={previousPost.data.title}
          rel="prev"
          class="block"
          aria-label={`å‰ã®è¨˜äº‹: ${previousPost.data.title}`}
        >
          prev
          <div class="text-xs text-gray-500 mt-1">{previousPost.data.title}</div>
        </a>
      ) : (
        <span class="text-gray-400" aria-label="å‰ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“">prev</span>
      )}
    </li>
    <li class="hover-style p-3" role="listitem">
      {nextPost ? (
        <a
          href={nextPost.collection === 'texts' ? `/texts/${nextPost.slug}/` : `/${nextPost.slug}/`}
          title={nextPost.data.title}
          rel="next"
          class="block"
          aria-label={`æ¬¡ã®è¨˜äº‹: ${nextPost.data.title}`}
        >
          next
          <div class="text-xs text-gray-500 mt-1">{nextPost.data.title}</div>
        </a>
      ) : (
        <span class="text-gray-400" aria-label="æ¬¡ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“">next</span>
      )}
    </li>
  </ul>
  <!-- 2æ®µç›®: BACK TO XXX -->
  <div class="border-b border-t rounded-b text-center py-3 bg-white hover:bg-gray-50 transition-colors duration-200">
    <a 
      href={getListPageUrl(content.collection)} 
      class="inline-block font-mono text-base sm:text-lg text-gray-700 hover:text-green-500 transition-colors duration-200"
      aria-label={`${getListPageName(content.collection)}ä¸€è¦§ã«æˆ»ã‚‹`}
      rel="up"
    >
      <span aria-hidden="true">ðŸ”™</span>
      <span>{getListPageName(content.collection)}</span>
    </a>
  </div>
</nav> 