# はてなブログ移行仕様書

## 1. コメントの扱い

- MovableTypeエクスポートの `COMMENT:` セクションは、記事末尾にMarkdownのコードブロックとして追記する。
- 複数コメントがある場合は、各コメントごとに区切り（---）とラベル（**元コメント:**）を付与する。
- コメント本文中のHTMLタグは除去し、`<br>`は改行に変換する。

## 2. URLの仕様

- 記事ファイル名は `YYYY-MM-DD-hatena-BASENAME.md` 形式とする。
  - 例: `2014-09-12-hatena-1410507039.md`
- 出力先ディレクトリは `src/content/logs/年/` とし、年ごとに分類する。
- 記事のパーマリンクは `/logs/YYYY/YYYY-MM-DD-hatena-BASENAME/` となる。
- 旧はてなブログのURL（例: `/entry/2014/09/12/1410507039`）からのリダイレクト設定は、必要に応じて別途対応する。

## 3. blockquote・インデント・brの扱い

- `<blockquote>` タグはMarkdownの引用（`>`）に変換。
  - タグ内の各行は先頭空白を除去し、空行は `>` のみで表現。
  - `<br>` は空行（`\n\n`）に変換。
- もともとスペース＋`>`で始まる行も正規化し、すべてMarkdownの引用形式に統一。

## 4. その他

- フロントマターは `title`, `pubDate`, `description`, `tags` を含める。
- 本文中のHTMLタグは極力Markdownに変換し、不要なタグは除去。
- 変換・出力スクリプトは `scripts/hatena-export-to-md.js` にて管理。

---

この仕様は随時アップデートされる可能性があります。ご意見・ご要望があればお知らせください。
